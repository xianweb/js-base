<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript基础 | ES6常用特性</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/js-base/assets/css/32.styles.40d7528b.css" as="style"><link rel="preload" href="/js-base/assets/js/app.c7e6368d.js" as="script"><link rel="preload" href="/js-base/assets/js/13.d73b01a0.js" as="script"><link rel="prefetch" href="/js-base/assets/js/16.1048e8d5.js"><link rel="prefetch" href="/js-base/assets/js/0.8e9a79d3.js"><link rel="prefetch" href="/js-base/assets/js/1.201620aa.js"><link rel="prefetch" href="/js-base/assets/js/2.76f79118.js"><link rel="prefetch" href="/js-base/assets/js/3.1eceacf3.js"><link rel="prefetch" href="/js-base/assets/js/4.4eab2088.js"><link rel="prefetch" href="/js-base/assets/js/5.414b6ce4.js"><link rel="prefetch" href="/js-base/assets/js/6.96ff2e17.js"><link rel="prefetch" href="/js-base/assets/js/7.5568dd64.js"><link rel="prefetch" href="/js-base/assets/js/8.81d11b54.js"><link rel="prefetch" href="/js-base/assets/js/9.b44e76a0.js"><link rel="prefetch" href="/js-base/assets/js/10.f9ae8728.js"><link rel="prefetch" href="/js-base/assets/js/11.08a380a8.js"><link rel="prefetch" href="/js-base/assets/js/12.93e8efb8.js"><link rel="prefetch" href="/js-base/assets/js/14.de1f5bec.js"><link rel="prefetch" href="/js-base/assets/js/15.ebf70b3c.js"><link rel="prefetch" href="/js-base/assets/js/17.fdf8c912.js"><link rel="prefetch" href="/js-base/assets/js/18.a7544003.js"><link rel="prefetch" href="/js-base/assets/js/19.522aaa0a.js"><link rel="prefetch" href="/js-base/assets/js/20.34656f7d.js"><link rel="prefetch" href="/js-base/assets/js/21.7fc86ce5.js"><link rel="prefetch" href="/js-base/assets/js/22.69f67aae.js"><link rel="prefetch" href="/js-base/assets/js/23.d7e0a2b3.js"><link rel="prefetch" href="/js-base/assets/js/24.e6478d9e.js"><link rel="prefetch" href="/js-base/assets/js/25.6478aed6.js"><link rel="prefetch" href="/js-base/assets/js/26.88f21d7d.js"><link rel="prefetch" href="/js-base/assets/js/27.19b61a5f.js"><link rel="prefetch" href="/js-base/assets/js/28.7c78dbf8.js"><link rel="prefetch" href="/js-base/assets/js/29.75f3055f.js"><link rel="prefetch" href="/js-base/assets/js/30.334b810a.js"><link rel="prefetch" href="/js-base/assets/js/31.98b63597.js">
    <link rel="stylesheet" href="/js-base/assets/css/32.styles.40d7528b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/js-base/" class="home-link router-link-active"><!----><span class="site-name">
      JavaScript基础
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>导论</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>语法</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>标准库</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>DOM操作</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>高级</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/js-base/senior/page1.html" class="sidebar-link">this指针、call和apply的区别</a></li><li><a href="/js-base/senior/page2.html" class="sidebar-link">AJAX、跨域、服务器交互</a></li><li><a href="/js-base/senior/page3.html" class="active sidebar-link">ES6常用特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#default-parameters（默认参数）" class="sidebar-link">Default Parameters（默认参数）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#template-literals（模板对象）" class="sidebar-link">Template Literals（模板对象）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#multi-line-strings-（多行字符串）" class="sidebar-link">Multi-line Strings （多行字符串）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#destructuring-assignment-（解构赋值）" class="sidebar-link">Destructuring Assignment （解构赋值）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#enhanced-object-literals-（增强的对象字面量）" class="sidebar-link">Enhanced Object Literals （增强的对象字面量）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#arrow-functions-in（箭头函数）" class="sidebar-link">Arrow Functions in（箭头函数）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#promises" class="sidebar-link">Promises</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#block-scoped-constructs-let-and-const（块作用域和构造let和const）" class="sidebar-link">Block-Scoped Constructs Let and Const（块作用域和构造let和const）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#classes（类）" class="sidebar-link">Classes（类）</a></li><li class="sidebar-sub-header"><a href="/js-base/senior/page3.html#modules-（模块）" class="sidebar-link">Modules （模块）</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="es6常用特性"><a href="#es6常用特性" aria-hidden="true" class="header-anchor">#</a> ES6常用特性</h1><p>ES6（ECMAScript2015）的出现，无疑给前端开发人员带来了新的惊喜，它包含了一些很棒的新特性，可以更加方便的实现很多复杂的操作，提高开发人员的效率。</p><h2 id="default-parameters（默认参数）"><a href="#default-parameters（默认参数）" aria-hidden="true" class="header-anchor">#</a> Default Parameters（默认参数）</h2><p>还记得我们以前不得不通过下面方式来定义默认参数：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> <span class="token function-variable function">link</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>height<span class="token punctuation">,</span> color<span class="token punctuation">,</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> height <span class="token operator">=</span> height <span class="token operator">||</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> color <span class="token operator">=</span> color <span class="token operator">||</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> url <span class="token operator">||</span> <span class="token string">'http://azat.co'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>一切工作都是正常的，直到参数值是0后，就有问题了，因为在JavaScript中，0表示false。当然，如果你非要用0作为值，我们可以忽略这一缺陷并且使用逻辑OR就行了！但在ES6，我们可以直接把默认值放在函数申明里：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> <span class="token function-variable function">link</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>height <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">,</span> url <span class="token operator">=</span> <span class="token string">'http://azat.co'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//do somethings</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="template-literals（模板对象）"><a href="#template-literals（模板对象）" aria-hidden="true" class="header-anchor">#</a> Template Literals（模板对象）</h2><p>在其它语言中，使用模板和插入值是在字符串里面输出变量的一种方式。因此，在ES5，我们可以这样组合一个字符串：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Your name is '</span> <span class="token operator">+</span> first <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> last <span class="token operator">+</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://localhost:3000/api/messages/'</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
</code></pre><p>幸运的是，在ES6中，我们可以使用新的语法$ {NAME}，并把它放在反引号里：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token template-string"><span class="token string">`Your name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. `</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token string">`http://localhost:3000/api/messages/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
</code></pre><h2 id="multi-line-strings-（多行字符串）"><a href="#multi-line-strings-（多行字符串）" aria-hidden="true" class="header-anchor">#</a> Multi-line Strings （多行字符串）</h2><p>在ES5中，我们不得不使用以下方法来表示多行字符串：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> roadPoem <span class="token operator">=</span> <span class="token string">'Then took the other, as just as fair,nt'</span>
    <span class="token operator">+</span> <span class="token string">'And having perhaps the better claimnt'</span>
    <span class="token operator">+</span> <span class="token string">'Because it was grassy and wanted wear,nt'</span>
    <span class="token operator">+</span> <span class="token string">'Though as for that the passing therent'</span>
    <span class="token operator">+</span> <span class="token string">'Had worn them really about the same,nt'</span><span class="token punctuation">;</span>
</code></pre><p>然而在ES6中，仅仅用反引号就可以解决了：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> roadPoem <span class="token operator">=</span> <span class="token template-string"><span class="token string">`Then took the other, as just as fair,
    And having perhaps the better claim
    Because it was grassy and wanted wear,
    Though as for that the passing there
    Had worn them really about the same,`</span></span><span class="token punctuation">;</span>
</code></pre><h2 id="destructuring-assignment-（解构赋值）"><a href="#destructuring-assignment-（解构赋值）" aria-hidden="true" class="header-anchor">#</a> Destructuring Assignment （解构赋值）</h2><p>解构可能是一个比较难以掌握的概念。先从一个简单的赋值讲起，其中house 和 mouse是key，同时house 和mouse也是一个变量，在ES5中是这样：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// data has properties house and mouse</span>
   house <span class="token operator">=</span> data<span class="token punctuation">.</span>house<span class="token punctuation">,</span>
   mouse <span class="token operator">=</span> data<span class="token punctuation">.</span>mouse<span class="token punctuation">;</span>
</code></pre><p>在ES6，我们可以使用这些语句代替上面的ES5代码：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> house<span class="token punctuation">,</span> mouse<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>在数组中是这样的：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.column'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>line1<span class="token punctuation">,</span>line2<span class="token punctuation">,</span>line3<span class="token punctuation">,</span> <span class="token punctuation">,</span>line5<span class="token punctuation">]</span> <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="tip custom-block"><p class="custom-block-title">提示</p><p>使用{}省去了写对象的属性的步骤，当然这个{}中的变量是与对象的属性名字保持一致的情况下。</p></div><h2 id="enhanced-object-literals-（增强的对象字面量）"><a href="#enhanced-object-literals-（增强的对象字面量）" aria-hidden="true" class="header-anchor">#</a> Enhanced Object Literals （增强的对象字面量）</h2><p>使用对象文本可以做许多让人意想不到的事情！通过ES6，我们可以把ES5中的对象变得更加接近于一个类。</p><p>下面是一个典型ES5对象文本，里面有一些方法和属性：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> serviceBase <span class="token operator">=</span> <span class="token punctuation">{</span>port<span class="token punctuation">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> url<span class="token punctuation">:</span> <span class="token string">'azat.co'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token function-variable function">getAccounts</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> accountServiceES5 <span class="token operator">=</span> <span class="token punctuation">{</span>  
<span class="highlighted-line">  port<span class="token punctuation">:</span> serviceBase<span class="token punctuation">.</span>port<span class="token punctuation">,</span>  </span><span class="highlighted-line">  url<span class="token punctuation">:</span> serviceBase<span class="token punctuation">.</span>url<span class="token punctuation">,</span>  </span>  getAccounts<span class="token punctuation">:</span> getAccounts<span class="token punctuation">,</span>  
  toString<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
<span class="highlighted-line">  getUrl<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>port<span class="token punctuation">}</span><span class="token punctuation">,</span></span>  valueOf_1_2_3<span class="token punctuation">:</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>  
</code></pre><p>如果我们想让它更有意思，我们可以用<code>Object.create</code>从<code>serviceBase</code>继承原型的方法：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> serviceBase <span class="token operator">=</span> <span class="token punctuation">{</span>port<span class="token punctuation">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> url<span class="token punctuation">:</span> <span class="token string">'azat.co'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token function-variable function">getAccounts</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="highlighted-line"><span class="token keyword">var</span> accountServiceES6 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>serviceBase<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继承</span></span><span class="token keyword">var</span> accountServiceES6 <span class="token operator">=</span> <span class="token punctuation">{</span>
  getAccounts<span class="token punctuation">:</span> getAccounts<span class="token punctuation">,</span>
  toString<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="highlighted-line">  getUrl<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>port<span class="token punctuation">}</span><span class="token punctuation">,</span></span>  valueOf_1_2_3<span class="token punctuation">:</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p><code>Object.create</code>的实现方式：</p><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span>  <span class="token keyword">function</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="arrow-functions-in（箭头函数）"><a href="#arrow-functions-in（箭头函数）" aria-hidden="true" class="header-anchor">#</a> Arrow Functions in（箭头函数）</h2><p>以前我们使用闭包，<code>this</code>总是预期之外地产生改变，而箭头函数的迷人之处在于，现在你的<code>this</code>可以按照你的预期使用了，身处箭头函数里面，<code>this</code>还是原来的<code>this</code>。</p><p>有了箭头函数在<code>ES6</code>中， 我们就不必用<code>that = this</code>或 <code>self = this</code>  或 <code>_this = this</code>  或<code>.bind(this)</code>。例如，下面的代码用ES5就不是很优雅：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
  _this<span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>在ES6中就不需要用 _this = this：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>不幸的是，ES6委员会决定，以前的function的传递方式也是一个很好的方案，所以它们仍然保留了以前的功能。</p><p>下面这是一个另外的例子，我们通过<code>call</code>传递文本给<code>logUpperCase()</code> 函数在ES5中：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> <span class="token function-variable function">logUpperCase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
 
  <span class="token keyword">this</span><span class="token punctuation">.</span>string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_this<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

logUpperCase<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> string<span class="token punctuation">:</span> <span class="token string">'ES6 rocks'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>而在ES6，我们并不需要用<code>_this</code>浪费时间：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> <span class="token function-variable function">logUpperCase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
logUpperCase<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> string<span class="token punctuation">:</span> <span class="token string">'ES6 rocks'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>请注意，只要你愿意，在ES6中=&gt;可以混合和匹配老的函数一起使用。当在一行代码中用了箭头函数，它就变成了一个表达式。它将暗地里返回单个语句的结果。<strong>如果你超过了一行，将需要明确使用return</strong>。</p><p>这是用ES5代码创建一个消息数组：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> messages <span class="token operator">=</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;ID is &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">;</span> <span class="token comment">// explicit return</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>用ES6是这样：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> messages <span class="token operator">=</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>value <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`ID is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// implicit return</span>
</code></pre><p>请注意，这里用了字符串模板。</p><blockquote><p>在箭头函数中，对于单个参数，括号()是可选的，但当你超过一个参数的时候你就需要他们。</p></blockquote><p>在ES5代码有明确的返回功能：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> messages <span class="token operator">=</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'ID of '</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">' element is '</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">' '</span><span class="token punctuation">;</span> <span class="token comment">// explicit return</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>在ES6中有更加严谨的版本，参数需要被包含在括号里并且它是隐式的返回：</p><pre class="language-js"><code>JavaScript

<span class="token keyword">var</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> messages <span class="token operator">=</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`ID of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> element is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> `</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// implicit return</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token keyword">var</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> messages <span class="token operator">=</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`ID of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> element is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> `</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// implicit return</span>
</code></pre><h2 id="promises"><a href="#promises" aria-hidden="true" class="header-anchor">#</a> Promises</h2><p>下面是一个简单的用setTimeout()实现的异步延迟加载函数：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>在ES6中，我们可以用promise重写:</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> wait1000 <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>或者用ES6的箭头函数：</p><pre class="language-js"><code><span class="token keyword">var</span> wait1000 <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>到目前为止，代码的行数从三行增加到五行，并没有任何明显的好处。确实，如果我们有更多的嵌套逻辑在setTimeout()回调函数中，我们将发现更多好处：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Wheeyee!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>在ES6中我们可以用promises重写：</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">var</span> <span class="token function-variable function">wait1000</span>  <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">wait1000</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Yay!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">wait1000</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Wheeyee!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="block-scoped-constructs-let-and-const（块作用域和构造let和const）"><a href="#block-scoped-constructs-let-and-const（块作用域和构造let和const）" aria-hidden="true" class="header-anchor">#</a> Block-Scoped Constructs Let and Const（块作用域和构造let和const）</h2><p>let是一种新的变量声明方式，它允许你把变量作用域控制在块级里面。我们用大括号定义代码块，在ES5中，块级作用域起不了任何作用：</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">function</span> <span class="token function">calculateTotalAmount</span> <span class="token punctuation">(</span>vip<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token keyword">var</span> amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  <span class="token keyword">if</span> <span class="token punctuation">(</span>vip<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  <span class="token punctuation">{</span> <span class="token comment">// more crazy blocks!  </span>
    <span class="token keyword">var</span> amount <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  
    <span class="token punctuation">{</span>  
      <span class="token keyword">var</span> amount <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>    
  <span class="token keyword">return</span> amount<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculateTotalAmount</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1000</span>
</code></pre><p>ES6: 用let限制块级作用域</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">function</span> <span class="token function">calculateTotalAmount</span><span class="token punctuation">(</span>vip<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> amouont  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// probably should also be let, but you can mix var and let</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>vip<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">let</span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// first amount is still 0  </span>
    <span class="token punctuation">}</span>   
    <span class="token punctuation">{</span> <span class="token comment">// more crazy blocks!  </span>
        <span class="token keyword">let</span> amount <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// first amount is still 0  </span>
        <span class="token punctuation">{</span>  
            <span class="token keyword">let</span> amount <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// first amount is still 0  </span>
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>    
    <span class="token keyword">return</span> amount<span class="token punctuation">;</span>  
<span class="token punctuation">}</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculateTotalAmount</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//0 因为块作用域中有了let。</span>
</code></pre><p>谈到<code>const</code>，就更加容易了，它就是一个不变量，也是块级作用域就像<code>let</code>一样。</p><div class="warning custom-block"><p class="custom-block-title">提示</p><p>我们用let限制块级作用域。而var是限制函数作用域。</p></div><h2 id="classes（类）"><a href="#classes（类）" aria-hidden="true" class="header-anchor">#</a> Classes（类）</h2><p><code>ES6</code>没有用函数，而是使用原型实现类。我们创建一个类<code>baseModel</code> ，并且在这个类里定义了一个<code>constructor</code> 和一个 <code>getName()</code>方法：</p><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">baseModel</span> <span class="token punctuation">{</span>
    <span class="token comment">// class constructor，注意我们对options 和data使用了默认参数值。</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Base'</span><span class="token punctuation">;</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://azat.co/api'</span><span class="token punctuation">;</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>

    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// class method  </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Class name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// class method  </span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Url: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><p><code>AccountModel</code> 从类<code>baseModel</code>中继承而来：</p><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">AccountModel</span> <span class="token keyword">extends</span> <span class="token class-name">baseModel</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">private</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'32'</span><span class="token punctuation">,</span> <span class="token string">'5242'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">+=</span><span class="token string">'/accounts/'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">accountsData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 调用</span>
<span class="token keyword">let</span> accounts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccountModel</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
accounts<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Class name:Base</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Data is %s'</span><span class="token punctuation">,</span> accounts<span class="token punctuation">.</span>accountsData<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Data is 32,5242 </span>

<span class="token comment">//子类必须在constructor方法中调用super方法，否则新建实例时会报错。</span>
<span class="token comment">//这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。</span>
<span class="token comment">//如果不调用super方法，子类就得不到this对象。</span>
</code></pre><ul><li><p>此处的继承中，子类必须在<code>constructor</code>方法中调用<code>super</code>方法，否则新建实例时会报错。</p></li><li><p>此处的<code>super</code>方法继承了父类的所有方法，包括不在父类的<code>constructor</code>中的其他方法，当然可以改写父类方法，比如上述例子，继承了<code>getName()</code>，<code>getUrl()</code>方法，以及<code>constructor()</code>中的<code>this.name</code>等属性，同时改写了<code>this.url</code>，增加了<code>accountsData</code>，且新增的方法前边要加上<code>get</code>。</p></li><li><p>子类调用<code>super</code>方法可以传入参数，对应<code>constructor()</code>函数的形参。</p></li></ul><h2 id="modules-（模块）"><a href="#modules-（模块）" aria-hidden="true" class="header-anchor">#</a> Modules （模块）</h2><p>ES5导出</p><pre class="language-js"><code><span class="token comment">//ES5</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    port<span class="token punctuation">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    getAccounts<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do somethings</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>ES6导出</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getAccounts</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//do somethings</span>
<span class="token punctuation">}</span>
</code></pre><p>ES5导入</p><pre class="language-js"><code><span class="token comment">//ES5</span>
<span class="token keyword">var</span> service <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>service<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3000</span>
</code></pre><p>ES6导入</p><p>我们需用import {name} from 'my-module'语法</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>port<span class="token punctuation">,</span> getAccounts<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 300</span>
</code></pre><p>或者ES6整体导入</p><pre class="language-js"><code><span class="token comment">//ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> service <span class="token keyword">from</span> <span class="token string">'module'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>service<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3000</span>
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/js-base/senior/page2.html" class="prev">
          AJAX、跨域、服务器交互
        </a></span><!----></p></div></div></div></div>
    <script src="/js-base/assets/js/13.d73b01a0.js" defer></script><script src="/js-base/assets/js/app.c7e6368d.js" defer></script>
  </body>
</html>
